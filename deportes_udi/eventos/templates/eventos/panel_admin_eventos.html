{% extends "eventos/base.html" %}

{% block title %}Panel de Administración | UDI Deportes{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2 class="text-center text-primary mb-4">👑 Panel de Administración de Eventos</h2>

  <div class="alert alert-info text-center shadow-sm">
    Bienvenido, {{ user.username }} (Administrador)
  </div>

  <div class="card shadow p-4 border-0">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h4 class="text-dark fw-bold">📋 Lista de Eventos Deportivos</h4>
      <a href="{% url 'crear_evento' %}" class="btn btn-success">
        ➕ Crear Nuevo Evento
      </a>
    </div>

    <table class="table table-hover table-striped align-middle">
      <thead class="table-primary text-center">
        <tr>
          <th>ID</th>
          <th>Nombre</th>
          <th>Fecha</th>
          <th>Lugar</th>
          <th>Deporte</th>
          <th>Cupos</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        {% for evento in eventos %}
        <tr class="text-center">
          <td>{{ evento.id }}</td>
          <td>{{ evento.nombre }}</td>
          <td>{{ evento.fecha|date:"d/m/Y" }}</td>
          <td>{{ evento.lugar }}</td>
          <td>{{ evento.deporte }}</td>
          <td>{{ evento.cupos }}</td>
          <td>
            <a href="{% url 'detalle_evento_admin' evento.id %}" class="btn btn-info btn-sm text-white">👁 Ver</a>
            <a href="{% url 'editar_evento' evento.id %}" class="btn btn-warning btn-sm text-white">✏️ Editar</a>
            <a href="{% url 'eliminar_evento' evento.id %}" class="btn btn-danger btn-sm"
               onclick="return confirm('¿Seguro que deseas eliminar este evento?');">🗑 Eliminar</a>
          </td>
        </tr>
        {% empty %}
        <tr><td colspan="7" class="text-center text-muted">No hay eventos registrados.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
